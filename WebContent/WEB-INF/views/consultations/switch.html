<div class="page-header">
	<!-- <h1>
		Consultations <small> <i
			class="ace-icon fa fa-angle-double-right"></i>
			Switch
		</small>
	</h1> -->
</div>

<div class="row">
	<div class="col-xs-12">
		<!-- Button for view -->
		<a class="btn btn-xs btn-primary" th:href="@{/patients }">
			<i class="glyphicon glyphicon-list"></i> All patients
		</a> <a class="btn btn-xs btn-warning"
			th:href="@{/patients/view/{id} (id=${patient.patientId}) }"> <i
			class="fa fa-reply"></i> Back to patient profile
		</a>
	</div>
</div>
<div class="hr hr-18 dotted hr-double"></div>

<div class="row">
	<div class="col-xs-12 col-md-12">

		<div class="row">
			<div class="col-xs-12 col-md-5">
				 
				<h3 th:inline="text">
					Consultation History 
				</h3>
				<hr />
				
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 center">
						<span class="profile-picture"> <img
							th:if="${patient.image == null}" id="avatar2" style="max-width: 100px"
							th:src="@{/resources/img/nhis.png}" alt="Profile"
							class="img-responsive" /> <img
							th:if="${patient.image != null}" id="avatar2" style="max-width: 100px"
							th:src="@{/patients/image/{id}(id=${patient.patientId})}"
							alt="Profile" class="img-responsive" />
						</span>

						<div class="space space-4"></div>
						<h4 th:inline="text">[[${patient.title.acronym} + ' ' +
							${patient.surname} + ' ' + ${patient.othernames}]]</h4>
						<small th:inline="text">[[${patient.patientId}]]</small>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<!-- Create a new consultation -->
				 
			
			<a th:href="@{/consultations/visits/newvisit/{vid} (vid=${pID})}"
					class="btn btn-primary"> <i
					class="ace-icon fa fa-bolt bigger-110"></i> Start a new visit for
					patient
				</a>
				
				<hr />
				
		
				
				
				
				
			</div>
		</div>
		<!-- /.Switch -->
	</div>
</div>


<div class="hr hr-18 dotted hr-double"></div>

<div class="hr hr-18 dotted hr-double"></div>

<div class="row">
	<div class="col-xs-12">
		<!-- View contents here -->
		<div class="table-header">Result for Consultation Visits</div>
		<table id="dTable"
			class="table table-striped table-bordered table-hover">
			<!-- Table heading -->
			<thead>
					<tr>
					
					<th>Visit Id</th>
					
					<th>Visit Code</th>
			
					<th>Status</th>
					
					<th><i class="glyphicon glyphicon-asterisk"></i></th>
				</tr>
			</thead>
			<!-- // Table heading END -->
			<!-- Table body -->
				<tbody>
				<tr th:each="v : ${visit1}">
				<td th:text="${v.id}"></td>
					<td th:text="${v.code}"></td>
					
					<td th:text="${v.status.type}"></td>
					<td> 
					
					
					<a class="btn btn-xs btn-success tooltips"
					
						title="view detail"
						th:href="@{/consultations/visits/view/{id} (id=${v.id})}">
							<i class="fa fa-trash-o"></i> View Detail
					</a>
					
					 <a class="btn btn-xs btn-purple tooltips"
						
						title="close visit"
						th:href="@{/consultations/visits/close/{id} (id=${v.id})}">
							<i class="fa fa-trash-o"></i> Close Visit
					</a>
					
					 <a class="btn btn-xs btn-blue tooltips"
						
						title="close visit"
						th:href="@{/consultations/visits/configure_reopen/{visitcode} (visitcode=${v.id})}">
							<i class="fa fa-trash-o"></i> Reopen
					</a>
					
				
					</td>
				</tr>
			</tbody>
			<!-- // Table body END -->
		</table>
		<!-- /. End view content here -->
	</div>
</div>
<script>
	jQuery(function($) {
		var oTable1 = $('#dTable').dataTable({
			bAutoWidth : false,
			"aoColumns" : [ {
				"bSortable" : true
			}, null, null,{
				"bSortable" : false
			} ]

		
		});

	});
</script>