<div class="page-header">
	<h1>
		Patient Profile <small> <i
			class="ace-icon fa fa-angle-double-right"></i> 
			<span th:text="${patient.title.acronym} + ' ' +  ${patient.surname} + ' ' + ${patient.firstName} + ' ' + ${patient.othernames} + ' ' + '-' + ' '  + ${patient.patient_id} " ></span> 
			</small>
	</h1>
</div>

<div class="row">
	<div class="col-xs-12">
		<!-- Button for view -->
		<a class="btn btn-xs btn-info" th:href="@{/customers}"><i
			class="fa fa-home"></i> Customer Dashboard</a> <a
			class="btn btn-xs btn-primary" th:href="@{/customers/patients }">
			<i class="glyphicon glyphicon-list"></i> All patients
		</a> <a class="btn btn-xs btn-warning"
			th:href="@{/customers/patients/edit/{id} (id = ${patient.id})}">
			<i class="fa fa-edit"></i> Edit profile
		</a> <a class="btn btn-xs btn-danger"
			th:href="@{/customers/patients/delete/{id} (id = ${patient.id})}">
			<i class="fa fa-trash-o"></i> Delete profile
		</a>
		<a class="btn btn-danger"> CREATE VISIT </a>
	</div>
</div>
<div class="hr hr-18 dotted hr-double"></div>

<div class="row">
	<div class="col-xs-12">
		<!-- View contents here -->
		<!-- User Profile -->
		<div id="user-profile-2" class="user-profile">
			<div class="tabbable">
					
				
				<ul class="nav nav-tabs padding-18">
					<li class=""><a
						th:href="@{/customers/patients/view/{id} (id = ${patient.id})}">
							<i class="green ace-icon fa fa-user bigger-120"></i> Profile
					</a></li>
						<li class=""><a
						th:href="@{/customers/patients/allergy/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-ban bigger-120"></i> Allergies
					</a></li>	
							<li class=""><a
						th:href="@{/customers/patients/history/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-ban bigger-120"></i> Medical History
					</a></li>
					<li class=""><a
						th:href="@{/customers/patients/surgicalhistory/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-ban bigger-120"></i> Surgical
							History
					</a></li>			
						<li class=""><a
						th:href="@{/customers/patients/familyhistory/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-ban bigger-120"></i> Family History
					</a></li>
					
					<li class=""><a
						th:href="@{/customers/patients/socialhistory/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-ban bigger-120"></i> Social
							History
					</a></li>
					
					<li class=""><a
						th:href="@{/customers/patients/documents/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-file bigger-120"></i> Documents
					</a></li>
								
						<li class="active"><a data-toggle="tab" href="#nok">
							<i class="brown ace-icon fa fa-file bigger-120"></i> Emergency Contact
					</a></li>
								
					
					<li class=""><a
						th:href="@{/customers/patients/hmo/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-users bigger-120"></i> HMO
					</a></li>
					
					
					<li class=""><a
						th:href="@{/customers/patients/payment/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-users bigger-120"></i> Payment Option
					</a></li>
					
					<li class=""><a
						th:href="@{/customers/patients/hmo/{id} (id = ${patient.id})}">
							<i class="brown ace-icon fa fa-exchange bigger-120"></i>
							Consultation History
					</a></li>
				</ul>
				

				<div class="tab-content no-border padding-24">
					<div id="nok" class="tab-pane in active">
						<div class="row">
							<!--  Dropzone -->
<a href="#modal-simple" data-toggle="modal" class="btn btn-danger"> Add Emergency Contact Information </a>

								<div class="space space-4"></div>
								
								<div class="space space-4"></div>
					
			<!-- 			<form role="form" class="form-horizontal" method="POST"
			th:object="${EMERForm}">
			<legend>Emergency Contact Detail</legend>



		<input type="hidden" th:field="*{patientId}" />

	
	<div class="form-group">
				<label for="title" class="col-sm-3 control-label no-padding-right">Title:</label>
				<div class="col-sm-9">
					<select th:field="*{titleId}" class="col-xs-10 col-sm-5">
						<option value="0">Select..</option>
						<option th:each="t: ${titles}" th:value="${t.id}"
							th:text="${t.acronym}"></option>
					</select> <span class="text-danger" th:if="${#fields.hasErrors('titleId')}"
						th:errors="*{titleId}"></span>
				</div>
			</div>
	
			<div class="form-group">
				<label for="full_name" class="col-sm-3 control-label no-padding-right">Full Name:</label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="Surname first, then the other names"
						th:field="*{full_name}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('full_name')}"
						th:errors="*{full_name}"></span>
				</div>
			</div>
			
			<div class="form-group">
				<label for="relationship" class="col-sm-3 control-label no-padding-right">Relationship:</label>
				<div class="col-sm-9">
					<select th:field="*{relationship}"
										 class="col-xs-10 col-sm-5">
										<option value="0">Select...</option>
										<option value="Father">Father</option>
										<option value="Mother">Mother</option>
										<option value="Son">Son</option>
										<option value="Daughter">Daughter</option>
										<option value="Brother">Brother</option>
										<option value="Sister">Sister</option>
										<option value="Uncle">Uncle</option>
										<option value="Aunty">Aunty</option>
										<option value="Cousin">Cousin</option>
										<option value="Niece">Niece</option>
										<option value="Nephew">Nephew</option>
										<option value="Fiance">Fiance</option>
										<option value="Fiancee">Fiancee</option>
										<option value="Friend">Friend</option>
										<option value="Others">Others</option>
										
			</select>  <span class="text-danger" th:if="${#fields.hasErrors('relationship')}"
			th:errors="*{relationship}"></span>
				</div>
			</div>
			
			
			<div class="form-group">
				<label for="email_id" class="col-sm-3 control-label no-padding-right">Email Address:</label>
				<div class="col-sm-9">
				<input type="text" class="col-xs-10 col-sm-5" placeholder="Email Adress"
					th:field="*{email_id}" required="required" /> <span
					class="text-danger" th:if="${#fields.hasErrors('email_id')}"
					th:errors="*{email_id}"></span>
				</div>
			</div>
			
			
			<div class="form-group">
				<label for="mobile_no1" class="col-sm-3 control-label no-padding-right">Primary Phone Number </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the mobile number"
						th:field="*{mobile_no1}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('mobile_no1')}"
						th:errors="*{mobile_no1}"></span>
				</div>
			</div>
			
			<div class="form-group">
				<label for="mobile_no2" class="col-sm-3 control-label no-padding-right">Secondary Phone Number </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the mobile number"
						th:field="*{mobile_no2}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('mobile_no2')}"
						th:errors="*{mobile_no2}"></span>
				</div>
			</div>
			
			
				<div class="form-group">
				<label for="home_address" class="col-sm-3 control-label no-padding-right">Home Address </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the primary address"
						th:field="*{home_address}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('home_address')}"
						th:errors="*{home_address}"></span>
				</div>
			</div>
			
			
			
				<div class="form-group">
				<label for="other_detail"
					class="col-sm-3 control-label no-padding-right">Other Detail:</label>
				<div class="col-sm-9">
					<textarea class="col-xs-10 col-sm-5"
						placeholder="any other information" th:field="*{other_detail}"></textarea>
					<span class="text-danger"
						th:if="${#fields.hasErrors('other_detail')}"
						th:errors="*{other_detail}"></span>
				</div>
			</div> 


	
			<div class="clearfix form-actions">
				<div class="col-md-offset-3 col-md-9">
					<input type="hidden" th:field="*{id}" />
					<button class="btn btn-primary" type="submit">
						<i class="ace-icon fa fa-check bigger-110"></i> Add
					</button>

					<button class="btn btn-danger" type="reset">
						<i class="ace-icon fa fa-undo bigger-110"></i> Reset
					</button>
				</div>
			</div>
		</form> -->
							<!-- /.Dropzone -->
							<!-- /.col -->
						</div>
						<!-- /.row -->
						<div class="row">
							<div class="col-xs-12">
					
								<div class="table-header">Patient Emergency Contact Detail</div>
							
								<table id="dTable"
									class="table table-striped table-bordered table-hover">
							
									<thead>
										<tr>
											<th>Name</th>
											<th>Relationship</th>
											<th>Email Address</th>
											<th>Home Address</th>
											<th>Mobile No 1</th>
											<th>Mobile No 2</th>
											
			<th><i class="glyphicon glyphicon-asterisk"></i></th> 
			</tr>
				</thead>
			<tbody>
				<tr th:each="emer : ${ patient.patientEmergency}">
				<td	th:text="${emer.title.acronym} + ' ' +  ${emer.fullName}">Fullname</td>
			<td th:text="${emer.relationship}"></td>
							<td th:text="${emer.email_id}"></td>
				<td th:text="${emer.homeAddress}"></td>
				<td th:text="${emer.mobileNo1}"></td>
				<td th:text="${emer.mobileNo2}"></td>
				
			
				<td> <a class="btn btn-xs btn-danger tooltips"
				title="deactivate contact"
				th:href="@{/customers/patients/nok/delete/{id} (id=${emer.id}) }">
				<i class="fa fa-trash-o"></i>
				</a></td>   
					</tr>
					</tbody>
				</table>
				</div>
					
						</div>
					

						<div class="space-20"></div>
					</div>
					<!-- /#home -->
				</div>
			</div>
		</div>
		<!-- Profile Ends  -->
		<!-- End View contents here -->
	</div>
</div>

<script>
	jQuery(function($) {
		var oTable1 = $('#dTable').dataTable({
			bAutoWidth : false,
			"aoColumns" : [ {
				"bSortable" : true
			}, null, null, null, {
				"bSortable" : false
			} ]

		//,
		//"sScrollY": "200px",
		//"bPaginate": false,

		//"sScrollX": "100%",
		//"sScrollXInner": "120%",
		//"bScrollCollapse": true,
		//Note: if you are applying horizontal scrolling (sScrollX) on a ".table-bordered"
		//you may want to wrap the table inside a "div.dataTables_borderWrap" element

		//"iDisplayLength": 50
		});

	});
</script>




<div class="modal fade" id="modal-simple">
	<div class="modal-dialog">
		<div class="modal-content">
			<!-- Form -->
					
				
					<form role="form" class="form-horizontal" method="POST"
								th:object="${EMERForm}">
								
				<!-- Modal heading -->
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title">Patient Emergency Contact History</h4>
				</div>
				<!-- // Modal heading END -->
				<!-- Modal body -->
				<div class="modal-body">
					
	<input type="hidden" th:field="*{patientId}" />




		<div class="row">
		<div class="form-group">
				<label for="title" class="col-sm-3 control-label no-padding-right">Title:</label>
				<div class="col-sm-9">
					<select th:field="*{titleId}" class="col-xs-10 col-sm-5">
						<option value="0">Select..</option>
						<option th:each="t: ${titles}" th:value="${t.id}"
							th:text="${t.acronym}"></option>
					</select> <span class="text-danger" th:if="${#fields.hasErrors('titleId')}"
						th:errors="*{titleId}"></span>
				</div>
			</div>

</div>
	<div class="space-2"></div>
		<div class="space-2"></div>
		
		
		
<div class="row">
<div class="form-group">
				<label for="full_name" class="col-sm-3 control-label no-padding-right">Full Name:</label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="Surname first, then the other names"
						th:field="*{full_name}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('full_name')}"
						th:errors="*{full_name}"></span>
				</div>
			</div>


</div>
		<div class="space-2"></div>
			<div class="space-2"></div>
			
			<div class="row">
							<div class="form-group">
				<label for="relationship" class="col-sm-3 control-label no-padding-right">Relationship:</label>
				<div class="col-sm-9">
					<select th:field="*{relationship}"
										 class="col-xs-10 col-sm-5">
										<option value="0">Select...</option>
										<option value="Father">Father</option>
										<option value="Mother">Mother</option>
										<option value="Son">Son</option>
										<option value="Daughter">Daughter</option>
										<option value="Brother">Brother</option>
										<option value="Sister">Sister</option>
										<option value="Uncle">Uncle</option>
										<option value="Aunty">Aunty</option>
										<option value="Cousin">Cousin</option>
										<option value="Niece">Niece</option>
										<option value="Nephew">Nephew</option>
										<option value="Fiance">Fiance</option>
										<option value="Fiancee">Fiancee</option>
										<option value="Friend">Friend</option>
										<option value="Others">Others</option>
										
			</select>  <span class="text-danger" th:if="${#fields.hasErrors('relationship')}"
			th:errors="*{relationship}"></span>
				</div>
			</div>
			

</div>
		<div class="space-2"></div>
			<div class="space-2"></div>
			
			
			<div class="row">
	
			<div class="form-group">
				<label for="email_id" class="col-sm-3 control-label no-padding-right">Email Address:</label>
				<div class="col-sm-9">
				<input type="text" class="col-xs-10 col-sm-5" placeholder="Email Adress"
					th:field="*{email_id}" required="required" /> <span
					class="text-danger" th:if="${#fields.hasErrors('email_id')}"
					th:errors="*{email_id}"></span>
				</div>
			</div>
			
			
			
		

</div>
		<div class="space-2"></div>
			<div class="space-2"></div>
			
			
	<div class="row">
				<div class="form-group">
				<label for="mobile_no1" class="col-sm-3 control-label no-padding-right">Primary Phone Number </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the mobile number"
						th:field="*{mobile_no1}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('mobile_no1')}"
						th:errors="*{mobile_no1}"></span>
				</div>
			</div>
			
			
			</div>
	<div class="space-2"></div>
		<div class="space-2"></div>
	
		<div class="row">
		<div class="form-group">
				<label for="mobile_no2" class="col-sm-3 control-label no-padding-right">Secondary Phone Number </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the mobile number"
						th:field="*{mobile_no2}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('mobile_no2')}"
						th:errors="*{mobile_no2}"></span>
				</div>
			</div>
			
			
			</div>
	<div class="space-2"></div>
		<div class="space-2"></div>
		
		
		
			<div class="row">
		
				<div class="form-group">
				<label for="home_address" class="col-sm-3 control-label no-padding-right">Home Address </label>
				<div class="col-sm-9">
					<input type="text" class="col-xs-10 col-sm-5" placeholder="This is the primary address"
						th:field="*{home_address}" required="required" /> <span
						class="text-danger" th:if="${#fields.hasErrors('home_address')}"
						th:errors="*{home_address}"></span>
				</div>
			</div>
			
			</div>
	<div class="space-2"></div>
		<div class="space-2"></div>
		
		
		
		
			<div class="row">
		
				<div class="form-group">
				<label for="other_detail"
					class="col-sm-3 control-label no-padding-right">Other Detail:</label>
				<div class="col-sm-9">
					<textarea class="col-xs-10 col-sm-5"
						placeholder="any other information" th:field="*{other_detail}"></textarea>
					<span class="text-danger"
						th:if="${#fields.hasErrors('other_detail')}"
						th:errors="*{other_detail}"></span>
				</div>
			</div> 


			
			</div>
	<div class="space-2"></div>
		<div class="space-2"></div>
		
				</div>
				<!-- // Modal body END -->

				<!-- Modal footer -->
				<div class="modal-footer">
				
				
						
						<input type="hidden" th:field="*{id}" />
										<button class="btn btn-primary" type="submit">
											<i class="ace-icon fa fa-check bigger-110"></i> Add
										</button>

										<button class="btn btn-danger" type="reset">
											<i class="ace-icon fa fa-undo bigger-110"></i> Reset
										</button>
						</div>
				<!-- // Modal footer END -->
			</form>
			<!-- /.Form -->
		</div>
	</div>
</div>
